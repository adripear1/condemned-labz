{% comment %} This file is auto-generated. Do not edit this file. {% endcomment %}
{% liquid
  assign product = block.settings.product
%}

{% stylesheet %}
  .ss-product-form__buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
    justify-content: flex-start;
    align-items: flex-start;
  }

  .ss-button--add-to-cart {
    border-radius: 4px;
    padding-block: 12px;
    padding-inline: 12px;
  }

  .ss-block .ss-product-form__buttons > * {
    width: 100%;
  }
  .ss-button--product-submit {
    border: 1px solid rgb(var(--ss-color-secondary-button-text));
    background: rgba(var(--ss-color-secondary-button), 1);
    color: rgb(var(--ss-color-secondary-button-text));
  }

  .ss-shopify-payment-button .ss-shopify-payment-button__button {
    width: 100%;
    line-height: normal;
    padding-block: 12px;
  }

  .ss-shopify-payment-button__button.ss-shopify-payment-button__button--unbranded:hover:not([disabled]) {
    background-color: rgba(var(--ss-color-button), 0.9);
  }

  .ss-shopify-payment-button__more-options.ss-shopify-payment-button__button--hidden {
    display: none;
  }
{% endstylesheet %}

{% capture size_and_spacing_panel_vars %}
  {% render 'ss-style-panel-v-1-0',
    settings: block.settings,
    type: 'size,spacing'
  %}
{% endcapture %}

{% capture layout_panel_vars %}
  {% render 'ss-style-panel-v-1-0',
    settings: block.settings,
    type: 'layout'
  %}
{% endcapture %}

<div
  class='
    ss-size-panel
    {{ block.settings.size | class_list }}
    ss-spacing-panel
    {{ block.settings.spacing | class_list }}
    ss-block
  '
  style='{{ size_and_spacing_panel_vars }}'
  {{ block.shopify_attributes }}
>
  {%- if product != blank -%}
    {%- assign product_form_id = 'ss-product-form-' | append: section.id -%}

    <form id='{{ product_form_id }}'>
      {%- form 'product',
        product,
        id: product_form_id,
        class: 'ss-form',
        novalidate: 'novalidate',
        data-type: 'add-to-cart-form'
      -%}
        <input
          type='hidden'
          name='id'
          value='{{ product.selected_or_first_available_variant.id }}'
          {% if product.selected_or_first_available_variant.available == false %}
            disabled
          {% endif %}
        >

        <div
          class='
            ss-layout-panel
            {{ block.settings.layout | class_list }}
            ss-product-form__buttons
          '
          style='{{ layout_panel_vars }}'
        >
          <button
            id='ProductSubmitButton-{{ section.id }}-{{ product.id }}'
            class='
              ss-button
              ss-button--add-to-cart
              ss-button--product-submit
            '
            type='submit'
            name='add'
            {% if product.selected_or_first_available_variant.available == false %}
              disabled
            {% endif %}
          >
            <span>
              {%- if product.selected_or_first_available_variant.available == false -%}
                Sold out
              {%- else -%}
                Add to cart
              {%- endif -%}
            </span>
          </button>

          {%- if block.settings.show_dynamic_checkout -%}
            {{ form | payment_button }}
          {%- endif -%}
        </div>
      {%- endform -%}
    </form>
  {%- else -%}
    <div class='ss-product-form'>
      <div class='ss-product-form__buttons ss-form'>
        <button
          type='submit'
          name='add'
          class='ss-product-form__submit ss-button ss-button--add-to-cart ss-button--primary'
          disabled
        >
          Sold out
        </button>
      </div>
    </div>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "Product (buy buttons) 1-0",
  "tag": null,
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "checkbox",
      "id": "show_dynamic_checkout",
      "label": "Show dynamic checkout buttons",
      "default": true
    },
    {
      "type": "header",
      "content": "Size - Desktop"
    },
    {
      "type": "text",
      "id": "size_width",
      "label": "Width",
      "default": "100%"
    },
    {
      "type": "text",
      "id": "size_min-width",
      "label": "Min Width",
      "default": "auto"
    },
    {
      "type": "text",
      "id": "size_max-width",
      "label": "Max Width",
      "default": "none"
    },
    {
      "type": "text",
      "id": "size_height",
      "label": "Height",
      "default": "auto"
    },
    {
      "type": "text",
      "id": "size_min-height",
      "label": "Min Height",
      "default": "auto"
    },
    {
      "type": "text",
      "id": "size_max-height",
      "label": "Max Height",
      "default": "none"
    },
    {
      "type": "text",
      "id": "size_flex-grow",
      "label": "Flex Grow",
      "default": "1"
    },
    {
      "type": "text",
      "id": "size_flex-shrink",
      "label": "Flex Shrink",
      "default": "1"
    },
    {
      "type": "text",
      "id": "size_flex-basis",
      "label": "Flex Basis",
      "default": "auto"
    },
    {
      "type": "header",
      "content": "Size - Mobile"
    },
    {
      "type": "paragraph",
      "content": "Leave fields blank to use the desktop value"
    },
    {
      "type": "text",
      "id": "size_width-mobile",
      "label": "Width"
    },
    {
      "type": "text",
      "id": "size_min-width-mobile",
      "label": "Min Width"
    },
    {
      "type": "text",
      "id": "size_max-width-mobile",
      "label": "Max Width"
    },
    {
      "type": "text",
      "id": "size_height-mobile",
      "label": "Height"
    },
    {
      "type": "text",
      "id": "size_min-height-mobile",
      "label": "Min Height"
    },
    {
      "type": "text",
      "id": "size_max-height-mobile",
      "label": "Max Height"
    },
    {
      "type": "text",
      "id": "size_flex-grow-mobile",
      "label": "Flex Grow"
    },
    {
      "type": "text",
      "id": "size_flex-shrink-mobile",
      "label": "Flex Shrink"
    },
    {
      "type": "text",
      "id": "size_flex-basis-mobile",
      "label": "Flex Basis"
    },
    {
      "type": "header",
      "content": "Spacing - Desktop"
    },
    {
      "type": "text",
      "id": "spacing_padding",
      "label": "Padding",
      "default": "0px",
      "info": "Accepts CSS"
    },
    {
      "type": "text",
      "id": "spacing_margin",
      "label": "Margin",
      "default": "0px",
      "info": "Accepts CSS"
    },
    {
      "type": "header",
      "content": "Spacing - Mobile"
    },
    {
      "type": "paragraph",
      "content": "Leave fields blank to use the desktop value"
    },
    {
      "type": "text",
      "id": "spacing_padding-mobile",
      "label": "Padding",
      "info": "Accepts CSS"
    },
    {
      "type": "text",
      "id": "spacing_margin-mobile",
      "label": "Margin",
      "info": "Accepts CSS"
    },
    {
      "type": "header",
      "content": "Layout - Desktop"
    },
    {
      "type": "select",
      "id": "layout_flex-direction",
      "label": "Flex Direction",
      "default": "column",
      "options": [
        { "value": "row", "label": "Row" },
        { "value": "column", "label": "Column" }
      ]
    },
    {
      "type": "select",
      "id": "layout_flex-wrap",
      "label": "Flex Wrap",
      "default": "nowrap",
      "options": [
        { "value": "nowrap", "label": "No Wrap" },
        { "value": "wrap", "label": "Wrap" },
        { "value": "wrap-reverse", "label": "Wrap Reverse" }
      ]
    },
    {
      "type": "select",
      "id": "layout_align-items",
      "label": "Align Items",
      "default": "start",
      "options": [
        { "value": "start", "label": "Start" },
        { "value": "end", "label": "End" },
        { "value": "center", "label": "Center" },
        { "value": "baseline", "label": "Baseline" },
        { "value": "stretch", "label": "Stretch" }
      ]
    },
    {
      "type": "select",
      "id": "layout_justify-content",
      "label": "Justify Content",
      "default": "start",
      "options": [
        { "value": "start", "label": "Start" },
        { "value": "end", "label": "End" },
        { "value": "center", "label": "Center" },
        { "value": "space-between", "label": "Space Between" },
        { "value": "space-around", "label": "Space Around" },
        { "value": "space-evenly", "label": "Space Evenly" }
      ]
    },
    {
      "type": "select",
      "id": "layout_align-content",
      "label": "Align Content",
      "default": "normal",
      "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "start", "label": "Start" },
        { "value": "center", "label": "Center" },
        { "value": "end", "label": "End" },
        { "value": "baseline", "label": "Baseline" },
        { "value": "space-around", "label": "Space Around" },
        { "value": "space-between", "label": "Space Between" },
        { "value": "space-evenly", "label": "Space Evenly" },
        { "value": "stretch", "label": "Stretch" }
      ]
    },
    {
      "type": "text",
      "id": "layout_row-gap",
      "label": "Row Gap",
      "default": "10px",
      "info": "Accepts CSS"
    },
    {
      "type": "text",
      "id": "layout_column-gap",
      "label": "Column Gap",
      "default": "10px",
      "info": "Accepts CSS"
    },
    {
      "type": "header",
      "content": "Layout - Mobile"
    },
    {
      "type": "paragraph",
      "content": "Leave fields blank to use the desktop value"
    },
    {
      "type": "select",
      "id": "layout_flex-direction-mobile",
      "label": "Flex Direction",
      "default": "",
      "options": [
        { "value": "", "label": "Desktop Value" },
        { "value": "row", "label": "Row" },
        { "value": "column", "label": "Column" }
      ]
    },
    {
      "type": "select",
      "id": "layout_flex-wrap-mobile",
      "label": "Flex Wrap",
      "default": "",
      "options": [
        { "value": "", "label": "Desktop Value" },
        { "value": "nowrap", "label": "No Wrap" },
        { "value": "wrap", "label": "Wrap" },
        { "value": "wrap-reverse", "label": "Wrap Reverse" }
      ]
    },
    {
      "type": "select",
      "id": "layout_align-items-mobile",
      "label": "Align Items",
      "default": "",
      "options": [
        { "value": "", "label": "Desktop Value" },
        { "value": "start", "label": "Start" },
        { "value": "end", "label": "End" },
        { "value": "center", "label": "Center" },
        { "value": "baseline", "label": "Baseline" },
        { "value": "stretch", "label": "Stretch" }
      ]
    },
    {
      "type": "select",
      "id": "layout_justify-content-mobile",
      "label": "Justify Content",
      "default": "",
      "options": [
        { "value": "", "label": "Desktop Value" },
        { "value": "start", "label": "Start" },
        { "value": "end", "label": "End" },
        { "value": "center", "label": "Center" },
        { "value": "space-between", "label": "Space Between" },
        { "value": "space-around", "label": "Space Around" },
        { "value": "space-evenly", "label": "Space Evenly" }
      ]
    },
    {
      "type": "select",
      "id": "layout_align-content-mobile",
      "label": "Align Content",
      "default": "",
      "options": [
        { "value": "", "label": "Desktop Value" },
        { "value": "start", "label": "Start" },
        { "value": "center", "label": "Center" },
        { "value": "end", "label": "End" },
        { "value": "space-around", "label": "Space Around" },
        { "value": "space-between", "label": "Space Between" },
        { "value": "space-evenly", "label": "Space Evenly" },
        { "value": "baseline", "label": "Baseline" },
        { "value": "stretch", "label": "Stretch" },
        { "value": "normal", "label": "Normal" }
      ]
    },
    {
      "type": "text",
      "id": "layout_row-gap-mobile",
      "label": "Row Gap"
    },
    {
      "type": "text",
      "id": "layout_column-gap-mobile",
      "label": "Column Gap"
    }
  ],
  "presets": [
    {
      "name": "Product (buy buttons) 1-0",
      "settings": { "product": "{{ closest.product }}" }
    }
  ]
}
{% endschema %}
