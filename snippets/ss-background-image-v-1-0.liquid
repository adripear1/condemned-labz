{% comment %} This file is auto-generated. Do not edit this file. {% endcomment %}
{% comment %}
  This snippet should accompany the ss-background-image-panel
{% endcomment %}
{% assign background_image = settings.background_image %}
{% assign background_image_mobile = settings.background_image_mobile | default: settings.background_image %}

{% if background_image or background_image_mobile %}
  <div class='ss-background-image-panel__image-container'>
    {%- if background_image -%}
      {%- liquid
        assign height = background_image.width | divided_by: background_image.aspect_ratio | round
        assign sizes = '100vw'
        assign widths = '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'

        assign background_image_mobile = background_image_mobile | default: background_image
        assign mobile_height = background_image_mobile.width | divided_by: background_image_mobile.aspect_ratio | round
        assign mobile_sizes = '100vw'
        assign mobile_widths = '375, 550, 750, 1100, 1500'

        assign loading = 'lazy'
        if section.index == 1
          assign loading = 'eager'
        endif
      -%}
      {{
        background_image
        | image_url: width: 3840
        | image_tag: height: height, sizes: sizes, widths: widths, loading: loading, class: 'ss-visibility-desktop'
      }}
      {{
        background_image_mobile
        | image_url: width: 1500
        | image_tag:
          height: mobile_height,
          sizes: mobile_sizes,
          widths: mobile_widths,
          loading: loading,
          class: 'ss-visibility-mobile',
          style: style
      }}
    {%- endif -%}
  </div>
{% endif %}
